<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="description" content="404" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <title>404</title>
    <link type="text/css" rel="stylesheet" href="./assets/style/css/global.css">
    <link type="text/css" rel="stylesheet" href="./assets/style/css/fonts.css">
    <style media="screen">
        #not-found {
            user-select: none;
            font-family: playfair;
            font-weight: 600;
            font-size: 7em;
            color: white;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #not-found p {
            display: inline-block;
            width: auto;
            height: auto;
        }
    </style>
</head>

<body>
    <div id="not-found">
        <p :style="`filter: drop-shadow(${x}px ${y}px ${blur}px #aaa)`">404</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        const notFound = new Vue({
            el: '#not-found',
            data: {
                x: 0,
                y: 0,
                width: 0,
                height: 0,
                center: {
                    x: 0,
                    y: 0
                },
                offset: 0.5,
                blur: 3
            },
            mounted() {
                this.init();
                this.regListener();
            },
            methods: {
                init() {
                    this.width = window.innerWidth;
                    this.height = window.innerHeight;
                    this.center = {
                        x: this.width / 2,
                        y: this.height / 2
                    };
                },
                regListener() {
                    window.addEventListener('mousemove', (evt) => {
                        let position = {
                            x: evt.clientX,
                            y: evt.clientY
                        };
                        let delX = position.x - this.center.x;
                        let delY = position.y - this.center.y;
                        this.x = -1 * this.offset * delX;
                        this.y = -1 * this.offset * delY;
                        let blur = 3 + Math.hypot(this.x, this.y) / 20;
                        this.blur = blur < 20 ? blur : 20;
                    });
                    window.addEventListener('resize', (evt) => {
                        this.init();
                    });
                }
            }
        });
    </script>
</body>

</html>
