(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34ee8654"],{"04ff":function(t,e,n){var r=n("5ca1"),i=n("3ca5");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},1150:function(t,e,n){"use strict";n("4bb0")},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),c=n("6a99"),a=n("69a8"),u=n("c69a"),s=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?s:function(t,e){if(t=o(t),e=c(e,!0),u)try{return s(t,e)}catch(n){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},1735:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello-bullet-chat"},[n("BulletChat",{staticClass:"bullet-chat-board",attrs:{bullets:t.bullets}}),n("ul",{staticClass:"bc-list"},t._l(t.bcList,(function(e){return n("li",{key:e.id},[t._v("\n            "+t._s(e.context)+"\n        ")])})),0),n("form",{staticClass:"new-bc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newBc,expression:"newBc"}],attrs:{type:"text"},domProps:{value:t.newBc},on:{input:function(e){e.target.composing||(t.newBc=e.target.value)}}}),n("button",{on:{click:t.onSendBulletChat}},[t._v("好")])])],1)},i=[],o=(n("4f37"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"bullet-chat-board"},t._l(t.bulletList,(function(e,r){return n("Bullet",{key:e.id||r,style:"transform: translateX("+e.progress*t.boundary.width+"px);",attrs:{bullet:e},on:{onFeedback:t.onFeedback}})})),1)}),c=[];n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("20d6"),n("c5f6"),n("04ff");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("6d67");function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){if(Array.isArray(t))return u(t)}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t){return s(t)||l(t)||f(t)||b()}var h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"bullet-chat-bullet",style:t._bullet.style},[t._v("\n    "+t._s(t._bullet.context)+"\n")])},d=[];function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={name:"bullet",props:{bullet:{type:Object,default:function(){return{}}}},computed:{_bullet:function(){var t=this,e=Object.keys(this.bullet.style).map((function(e){return"".concat(e,": ").concat(t.bullet.style[e],";")})).join("");return v(v({},this.bullet),{},{style:e})}},data:function(){return{boundary:{}}},mounted:function(){this.boundary=this.$el.getBoundingClientRect(),this.feedback()},methods:{feedback:function(){console.log(this.boundary),this.$emit("onFeedback",{id:this._bullet.id,width:this.boundary.width,height:this.boundary.height})}}},m=g,O=(n("c125"),n("2877")),w=Object(O["a"])(m,h,d,!1,null,null,null),S=w.exports,j={style:{backgroundColor:"rgab(0, 0, 0, 0)",color:"#000",fontWeight:"600",fontSize:"1em"},v:1};function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={name:"bullet-chat-board",components:{Bullet:S},props:{bullets:{type:Array,default:function(){return[]}}},data:function(){return{boundary:{},bulletList:[],timer:null}},watch:{bullets:function(t){var e;t&&t.length>0&&(e=this.bulletList).push.apply(e,p(this.bulletCheck(t)))}},mounted:function(){this.getSize(),window.requestAnimationFrame(this.play)},methods:{getSize:function(){this.boundary=this.$el.getBoundingClientRect()},bulletCheck:function(t){var e=this;return!!t.length&&t.map((function(t){var n=_({},t),r=_(_({},j.style),n.style),i=Number.parseInt(r.top,10);return i=isNaN(i)?Math.round(Math.random()*e.boundary.height):i,r.top=i+"px",Object.assign({},n,{style:r,top:i,progress:1,v:n.v||j.v,context:n.context.trim()})}))},onFeedback:function(t){var e=t.id,n=t.width,r=t.height,i=this.bulletList.findIndex((function(t){return t.id===e}));if(-1===i)return!1;var o=this.bulletList[i];o.top+r>this.boundary.height&&(console.log(this.boundary.height,r,this.boundary.height-r),o.top=Math.floor(this.boundary.height-r),o.style.top=o.top+"px"),this.bulletList.splice(i,1,_(_({},o),{},{width:n,height:r}))},play:function(t){var e=this;this.timer||(this.timer=t),t-this.timer>10&&(this.bulletList=this.bulletList.map((function(t){var n=t.width,r=t.v/2,i=t.progress*e.boundary.width;if(i>=-1*n-10){var o=i-r,c=o/e.boundary.width;t.progress=c}return t})),this.timer=t),window.requestAnimationFrame(this.play)}}},x=P,A=(n("1150"),Object(O["a"])(x,o,c,!1,null,null,null)),I=A.exports,N=I,C={name:"hello-bullet-chat",components:{BulletChat:N},data:function(){return{newBc:"",bcList:[],bullets:[]}},methods:{onSendBulletChat:function(){if(this.newBc=this.newBc.trim(),!this.newBc)return!1;var t={id:(new Date).getTime(),context:this.newBc};this.bcList.push(t),this.bullets=[t],this.newBc=""}}},E=C,k=(n("e958"),Object(O["a"])(E,r,i,!1,null,null,null));e["default"]=k.exports},"1c01":function(t,e,n){var r=n("5ca1");r(r.S+r.F*!n("9e1e"),"Object",{defineProperty:n("86cc").f})},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),r(r.P+r.F*c,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"39a3":function(t,e,n){},"3ca5":function(t,e,n){var r=n("7726").parseInt,i=n("aa77").trim,o=n("fdef"),c=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(c.test(n)?16:10))}:r},"3d96":function(t,e,n){},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},"4bb0":function(t,e,n){},"4f37":function(t,e,n){"use strict";n("aa77")("trim",(function(t){return function(){return t(this,3)}}))},"58b2":function(t,e,n){var r=n("5ca1");r(r.S+r.F*!n("9e1e"),"Object",{defineProperties:n("1495")})},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,c=e.constructor;return c!==n&&"function"==typeof c&&(o=c.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],c={};c[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",c)}},"6d67":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(1);r(r.P+r.F*!n("2f21")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"8e6e":function(t,e,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),c=n("11e9"),a=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),u=c.f,s=i(r),l={},f=0;while(s.length>f)n=u(r,e=s[f++]),void 0!==n&&a(l,e,n);return l}})},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"990b":function(t,e,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),c=n("7726").Reflect;t.exports=c&&c.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),c=n("fdef"),a="["+c+"]",u="​",s=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=o((function(){return!!c[t]()||u[t]()!=u})),s=i[t]=a?e(b):c[t];n&&(i[n]=s),r(r.P+r.F*a,"String",i)},b=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),c=n("7726"),a=n("32e9"),u=n("84f2"),s=n("2b4c"),l=s("iterator"),f=s("toStringTag"),b=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),d=0;d<h.length;d++){var y,v=h[d],g=p[v],m=c[v],O=m&&m.prototype;if(O&&(O[l]||a(O,l,b),O[f]||a(O,f,v),u[v]=b,g))for(y in r)O[y]||o(O,y,r[y],!0)}},c125:function(t,e,n){"use strict";n("3d96")},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),c=n("5dbc"),a=n("6a99"),u=n("79e5"),s=n("9093").f,l=n("11e9").f,f=n("86cc").f,b=n("aa77").trim,p="Number",h=r[p],d=h,y=h.prototype,v=o(n("2aeb")(y))==p,g="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():b(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var c,u=e.slice(2),s=0,l=u.length;s<l;s++)if(c=u.charCodeAt(s),c<48||c>i)return NaN;return parseInt(u,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(v?u((function(){y.valueOf.call(n)})):o(n)!=p)?c(new d(m(e)),n,h):m(e)};for(var O,w=n("9e1e")?s(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,O=w[S])&&!i(h,O)&&f(h,O,l(d,O));h.prototype=y,y.constructor=h,n("2aba")(r,p,h)}},e958:function(t,e,n){"use strict";n("39a3")},f1ae:function(t,e,n){"use strict";var r=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},f3e2:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(0),o=n("2f21")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-34ee8654.d040e7fd.js.map