<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ExtJS 自定义 datetimefield 控件 | Yangholmes' blog</title>
    <meta name="description" content="Yangholmes' blog">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.D7kLa7ki.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CGnuLziK.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.Cc4yYURl.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Bjkqz3LO.js">
    <link rel="modulepreload" href="/assets/chunks/katex.ChWnQ-fc.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-JOIXM2OF.CuTn7BJI.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-6F6E4RAY.BWesLACK.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-KYDEHFYC.BYTfv-KC.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-3M52JZNH.BRz8e05v.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-GW3U2K7C.DeEsu2i6.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-EK5VF46D.D6gqcfJE.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-LHK5PUON.Dih8Klk0.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-NIOCPIFQ.DgEiy9ne.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-2OG54O6I.CHbBtVwT.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-H2YORKM3.CmC_AsL5.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-QOLK2EJ7.CjB8UxYF.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-SKLFT4DO.CJ-1AkHx.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-M3E45YP4.D2gBSHR0.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-YAWTLIQI.D2gBSHR0.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-MI5ZYTHO.zrfsvAnx.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-5AN5P6BG.BIC865Rp.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-EWQZEKCU.CMH5Lvzo.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-MYPXXCX6.DiKICGOA.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-6CBA2TL7.1WcY4Lmv.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-ZSS6B67P.SRhFqAtL.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-4UZDY2LN.CBv_U16a.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-5UYTHUR4.C4qEzsyC.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-ZTM2IBQH.OQjBHEC4.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-6J76NXCF.CEcEyAd7.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-SUXI7LT5.COOUTNQP.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-VMROVX33.DuvfsZVk.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/技术的小记_ExtJS 自定义 datetimefield 控件_index.md.rqmzXmoS.lean.js">
    <link rel="icon" type="image/x-icon" href="/icon.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:title" content="ExtJS 自定义 datetimefield 控件">
    <meta property="og:description" content="ExtJS 自定义 datetimefield 控件">
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
  </head>
  <body><!--teleport start anchor--><div class="overlay" data-v-2a3b9918></div><!--teleport anchor-->
    <div id="app"><div class="main-layout" data-v-4a448231><div class="left-side" data-v-4a448231><div class="sidebar" data-v-4a448231 data-v-2a3b9918><div class="mobile-only handler" data-v-2a3b9918 data-v-ca29c581 data-v-80979bf7><!--[--><div class="toggle-handler" data-v-ca29c581><span class="vpi-chevron-right icon" data-v-ca29c581></span></div><!--]--></div><div class="top-bar" data-v-2a3b9918><div class="theme-switch is-dark" data-v-2a3b9918 data-v-6427e52d><div class="round-button switch sun" data-v-6427e52d data-v-d3afb744><span class="vpi-sun icon" data-v-d3afb744></span></div><div class="round-button switch moon" data-v-6427e52d data-v-d3afb744><span class="vpi-moon icon" data-v-d3afb744></span></div></div><div class="VPNavBarSearch plugin search" data-v-2a3b9918 data-v-d17e8928><!----><div id="docsearch"><!--[--><div class="round-button" data-v-d17e8928 data-v-d3afb744><span class="vpi-search icon" data-v-d3afb744></span></div><!--]--></div></div></div><nav data-v-2a3b9918><div class="avatar" data-v-2a3b9918 data-v-d3b92462><a href="/" data-v-d3b92462><div class="image" style="--image: url(/assets/cats.BfteQRM1.png)" data-v-d3b92462></div></a><p data-v-d3b92462>Yangholmes</p><p data-v-d3b92462> 邋遢和小松的 <ruby data-v-d3b92462>铲<rt data-v-d3b92462>chǎn</rt></ruby><ruby data-v-d3b92462>屎<rt data-v-d3b92462>shǐ</rt></ruby><ruby data-v-d3b92462>官<rt data-v-d3b92462>guān</rt></ruby></p></div><ul class="category-list" data-v-2a3b9918><!--[--><li class="active" data-v-2a3b9918><a href="/技术的小记/" data-v-2a3b9918>技术的小记</a></li><li class="" data-v-2a3b9918><a href="/派的玩耍小记/" data-v-2a3b9918>派的玩耍小记</a></li><li class="" data-v-2a3b9918><a href="/生活咏叹调/" data-v-2a3b9918>生活咏叹调</a></li><!--]--></ul><ul class="socials" data-v-2a3b9918 data-v-fb1a9594><!--[--><li data-v-fb1a9594><a href="https://github.com/Yangholmes" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="https://dev.to/yangholmes" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="https://www.instagram.com/yangholmes/" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="/wechat-qrcode.png" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><!--]--></ul></nav><div class="bottom-bar" data-v-2a3b9918></div><!--teleport start--><!--teleport end--></div></div><main class="content" data-v-4a448231><div class="nav-bar" data-v-4a448231 data-v-df838852><div class="round-button" data-v-df838852 data-v-d3afb744><span class="vpi-arrow-left icon" data-v-d3afb744></span></div></div><div class="page" data-v-4a448231 data-v-a7c96102><div class="vp-doc" data-v-a7c96102><div style="position:relative;" data-v-a7c96102><div><h1 id="extjs-自定义-datetimefield-控件" tabindex="-1">ExtJS 自定义 datetimefield 控件 <a class="header-anchor" href="#extjs-自定义-datetimefield-控件" aria-label="Permalink to &quot;ExtJS 自定义 datetimefield 控件&quot;">​</a></h1><p>2016年05月07日</p><p>这一年都在使用 ExtJS 5.0 开发系统，经常会遇到的一个场景就是时间日期的选择了。比如说，预定场地的时候就必须由用户选择预定的日期和时间。</p><p>可惜的是，ExtJS 5.0 没有自带一个可以同时选择日期时间的控件（ExtJS 6.0 已经推出了，还没用过，不知道加入这种控件没~），通常偷懒的做法就是，先放一个日期控件，然后再放一个时间控件。用户使用的时候，先选择日期，再选择时间，最后用很别扭的办法将日期和时间拼装起来。</p><p>理想的状态是，提供给用户一个可以同时选择时间和日期的控件，并且数据是“日期+时间”的 Date 类型。既符合使用习惯，又方便开发。</p><p>故第二种偷懒的方式是，从网上扒一个现成的解决方案来用。此法最快，但是在过程中遇到了一个问题，现成可以搜索到的方案都有点旧，大多数还停留在 ExtJS 2.X、3.X 和 4.X 版本，自从 ExtJS 从 4 升级到 5 之后，API 改变了许多，所以并不能直接使用。</p><p>最后只能是自己写一个。准确来说，应该是拿了一份现成的代码修改，这个代码在 ExtJS 5.0 下不能正确运行，但是需要修改的量非常少，所以很感谢这份现成代码的作者，可惜没有署名，不知道是谁。</p><p>ExtJS 5.0 上测试成功，实现方法是：</p><h4 id="_1-自定义一个时间选择器-timepickerfield-继承自-ext-form-field-base-由三个-numberfield-组成。" tabindex="-1">1. 自定义一个时间选择器 TimePickerField，继承自 Ext.form.field.Base，由三个 NumberField 组成。 <a class="header-anchor" href="#_1-自定义一个时间选择器-timepickerfield-继承自-ext-form-field-base-由三个-numberfield-组成。" aria-label="Permalink to &quot;1. 自定义一个时间选择器 TimePickerField，继承自 Ext.form.field.Base，由三个 NumberField 组成。&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  Ext.define(&#39;MyApp.ux.DateTimeField.TimePickerField&#39;, {</span></span>
<span class="line"><span>    extend: &#39;Ext.form.field.Base&#39;,</span></span>
<span class="line"><span>    alias: &#39;widget.timepicker&#39;,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    alternateClassName: &#39;Ext.form.field.TimePickerField&#39;,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    requires: [&#39;Ext.form.field.Number&#39;],</span></span>
<span class="line"><span>    inputType: &#39;text&#39;,</span></span>
<span class="line"><span>    fieldLabel: &#39;时间&#39;,</span></span>
<span class="line"><span>    labelWidth: 40,</span></span>
<span class="line"><span>    style: &#39;padding:4px 0; margin: 0; &#39;,</span></span>
<span class="line"><span>    value: null,</span></span>
<span class="line"><span>    spinnerCfg: {</span></span>
<span class="line"><span>      width: 50,</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    initComponent: function() {</span></span>
<span class="line"><span>      var me = this;</span></span>
<span class="line"><span>      me.value = me.value || Ext.Date.format(new Date(), &#39;H:i:s&#39;);</span></span>
<span class="line"><span>      me.callParent(arguments);</span></span>
<span class="line"><span>      me.spinners = [];</span></span>
<span class="line"><span>      var cfg = Ext.apply({}, me.spinnerCfg, {</span></span>
<span class="line"><span>  //      readOnly: me.readOnly,</span></span>
<span class="line"><span>        disabled: me.disabled,</span></span>
<span class="line"><span>        style: &#39;float: left&#39;,</span></span>
<span class="line"><span>        listeners: {</span></span>
<span class="line"><span>          change: {</span></span>
<span class="line"><span>          fn: me.onSpinnerChange,</span></span>
<span class="line"><span>          scope: me</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>      me.hoursSpinner = Ext.create(&#39;Ext.form.field.Number&#39;, Ext.apply({}, cfg, {</span></span>
<span class="line"><span>  //      minValue: -1,</span></span>
<span class="line"><span>  //      maxValue: 24,</span></span>
<span class="line"><span>          minNum: 0,</span></span>
<span class="line"><span>          maxNum: 23,</span></span>
<span class="line"><span>        }));</span></span>
<span class="line"><span>      me.minutesSpinner = Ext.create(&#39;Ext.form.field.Number&#39;, Ext.apply({}, cfg, {</span></span>
<span class="line"><span>  //      minValue: -1,</span></span>
<span class="line"><span>  //      maxValue: 60,</span></span>
<span class="line"><span>            minNum: 0,</span></span>
<span class="line"><span>            maxNum: 59,</span></span>
<span class="line"><span>        }));</span></span>
<span class="line"><span>      me.secondsSpinner = Ext.create(&#39;Ext.form.field.Number&#39;, Ext.apply({}, cfg, {</span></span>
<span class="line"><span>  //      minValue: -1,</span></span>
<span class="line"><span>  //      MAXVALUE: 60,</span></span>
<span class="line"><span>            minNum: 0,</span></span>
<span class="line"><span>            maxNum: 59,</span></span>
<span class="line"><span>        }));</span></span>
<span class="line"><span>      me.spinners.push(me.hoursSpinner, me.minutesSpinner, me.secondsSpinner);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    onRender: function() {</span></span>
<span class="line"><span>      var me = this, spinnerWrapDom, spinnerWrap;</span></span>
<span class="line"><span>      me.callParent(arguments);</span></span>
<span class="line"><span>      spinnerWrap = Ext.get(Ext.DomQuery.selectNode(&#39;div&#39;, this.el.dom));</span></span>
<span class="line"><span>      me.callSpinnersFunction(&#39;render&#39;, spinnerWrap);</span></span>
<span class="line"><span>      this.el.dom.getElementsByTagName(&#39;input&#39;)[0].style.display = &#39;none&#39;;</span></span>
<span class="line"><span>      var newTimePicker = Ext.DomHelper.append(spinnerWrap, {</span></span>
<span class="line"><span>        tag: &#39;div&#39;,</span></span>
<span class="line"><span>        cls: &#39;x-form-clear-left&#39;</span></span>
<span class="line"><span>      }, true);</span></span>
<span class="line"><span>      this.setRawValue(this.value);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    _valueSplit: function(v) {</span></span>
<span class="line"><span>      if(Ext.isDate(v)) {</span></span>
<span class="line"><span>        v = Ext.Date.format(v, &#39;H:i:s&#39;);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      var split = v.split(&#39;:&#39;);</span></span>
<span class="line"><span>      return {</span></span>
<span class="line"><span>        h: split.length &gt; 0 ? split[0] : 0,</span></span>
<span class="line"><span>        m: split.length &gt; 1 ? split[1] : 0,</span></span>
<span class="line"><span>        s: split.length &gt; 2 ? split[2] : 0</span></span>
<span class="line"><span>      };</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    onSpinnerChange: function() {</span></span>
<span class="line"><span>      if(!this.rendered) {</span></span>
<span class="line"><span>        return;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      //限制时间范围</span></span>
<span class="line"><span>      var args = arguments; //this, newValue, oldValue, eOpts</span></span>
<span class="line"><span>      args[0].setValue( (args[1]&gt;args[0].maxNum) ? args[0].minNum : args[0].value );</span></span>
<span class="line"><span>      args[0].setValue( (args[1]&lt;args[0].minNum) ? args[0].maxNum : args[0].value );</span></span>
<span class="line"><span>      this.fireEvent(&#39;change&#39;, this, this.getValue(), this.getRawValue());</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 依次调用各输入框函数, call each spinner&#39;s function</span></span>
<span class="line"><span>    callSpinnersFunction: function(funName, args) {</span></span>
<span class="line"><span>      for(var i = 0; i &lt; this.spinners.length; i++) {</span></span>
<span class="line"><span>        if( this.spinners[i][funName] != null &amp;&amp; this.spinners[i][funName] != undefined ){</span></span>
<span class="line"><span>          this.spinners[i][funName](args);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    getRawValue: function() {</span></span>
<span class="line"><span>      if(!this.rendered) {</span></span>
<span class="line"><span>        var date = this.value || new Date();</span></span>
<span class="line"><span>        return this._valueSplit(date);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      else {</span></span>
<span class="line"><span>        return {</span></span>
<span class="line"><span>        h: this.hoursSpinner.getValue(),</span></span>
<span class="line"><span>        m: this.minutesSpinner.getValue(),</span></span>
<span class="line"><span>        s: this.secondsSpinner.getValue()</span></span>
<span class="line"><span>        };</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    setRawValue: function(value) {</span></span>
<span class="line"><span>      var v = this._valueSplit(value);</span></span>
<span class="line"><span>      if(this.hoursSpinner) {</span></span>
<span class="line"><span>        this.hoursSpinner.setValue(v.h);</span></span>
<span class="line"><span>        this.minutesSpinner.setValue(v.m);</span></span>
<span class="line"><span>        this.secondsSpinner.setValue(v.s);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    getValue: function() {</span></span>
<span class="line"><span>      var v = this.getRawValue();</span></span>
<span class="line"><span>      return Ext.String.leftPad(v.h, 2, &#39;0&#39;) + &#39;:&#39; + Ext.String.leftPad(v.m, 2, &#39;0&#39;) + &#39;:&#39;</span></span>
<span class="line"><span>      + Ext.String.leftPad(v.s, 2, &#39;0&#39;);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    setValue: function(value) {</span></span>
<span class="line"><span>      this.value = Ext.isDate(value) ? Ext.Date.format(value, &#39;H:i:s&#39;) : value;</span></span>
<span class="line"><span>      if(!this.rendered) {</span></span>
<span class="line"><span>        return;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      this.setRawValue(this.value);</span></span>
<span class="line"><span>      this.validate();</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    disable: function() {</span></span>
<span class="line"><span>      this.callParent(arguments);</span></span>
<span class="line"><span>      this.callSpinnersFunction(&#39;disable&#39;, arguments);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    enable: function() {</span></span>
<span class="line"><span>      this.callParent(arguments);</span></span>
<span class="line"><span>      this.callSpinnersFunction(&#39;enable&#39;, arguments);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    setReadOnly: function() {</span></span>
<span class="line"><span>      this.callParent(arguments);</span></span>
<span class="line"><span>      this.callSpinnersFunction(&#39;setReadOnly&#39;, arguments);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    clearInvalid: function() {</span></span>
<span class="line"><span>      this.callParent(arguments);</span></span>
<span class="line"><span>      this.callSpinnersFunction(&#39;clearInvalid&#39;, arguments);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    isValid: function(preventMark) {</span></span>
<span class="line"><span>      return this.hoursSpinner.isValid(preventMark) &amp;&amp; this.minutesSpinner.isValid(preventMark)</span></span>
<span class="line"><span>      &amp;&amp; this.secondsSpinner.isValid(preventMark);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    validate: function() {</span></span>
<span class="line"><span>      return this.hoursSpinner.validate() &amp;&amp; this.minutesSpinner.validate() &amp;&amp; this.secondsSpinner.validate();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br></div></div><h4 id="_2-自定义一个-datetimepicker-继承自-ext-picker-date-实际上就是在原有的-datefield-的基础上增加-timepicker-和一个确认按键。" tabindex="-1">2. 自定义一个 DateTimePicker，继承自 Ext.picker.Date，实际上就是在原有的 DateField 的基础上增加 TimePicker 和一个确认按键。 <a class="header-anchor" href="#_2-自定义一个-datetimepicker-继承自-ext-picker-date-实际上就是在原有的-datefield-的基础上增加-timepicker-和一个确认按键。" aria-label="Permalink to &quot;2. 自定义一个 DateTimePicker，继承自 Ext.picker.Date，实际上就是在原有的 DateField 的基础上增加 TimePicker 和一个确认按键。&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  Ext.define(&#39;MyApp.ux.DateTimeField.DateTimePicker&#39;, {</span></span>
<span class="line"><span>    extend: &#39;Ext.picker.Date&#39;,</span></span>
<span class="line"><span>    alias: &#39;widget.datetimepicker&#39;,</span></span>
<span class="line"><span>    requires: [&#39;MyApp.ux.DateTimeField.TimePickerField&#39;,&#39;Ext.dom.Query&#39;],</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    todayText: &#39;现在&#39;,</span></span>
<span class="line"><span>    timeLabel: &#39;时间&#39;,</span></span>
<span class="line"><span>    buttonText: &#39;确定&#39;,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    initComponent: function() {</span></span>
<span class="line"><span>      this.callParent();</span></span>
<span class="line"><span>      this.value = this.value || new Date();</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    onRender: function(container, position) {</span></span>
<span class="line"><span>      this.callParent(arguments);</span></span>
<span class="line"><span>      var me = this;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>      //确认按键</span></span>
<span class="line"><span>      var btnCfg = Ext.apply({}, {}, {</span></span>
<span class="line"><span>        style: &#39;center&#39;,</span></span>
<span class="line"><span>        listeners: {</span></span>
<span class="line"><span>          click: {</span></span>
<span class="line"><span>            fn: function(){</span></span>
<span class="line"><span>              this.confirmDate();</span></span>
<span class="line"><span>            },</span></span>
<span class="line"><span>            scope: me</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      me.confirmBtn = Ext.create(&#39;Ext.Button&#39;, Ext.apply({}, btnCfg, {</span></span>
<span class="line"><span>        text: &#39;确认&#39;,</span></span>
<span class="line"><span>      }));</span></span>
<span class="line"><span>      me.confirmBtn.render(this.el.child(&#39;div div.x-datepicker-footer&#39;));</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>      if(!this.timefield) {</span></span>
<span class="line"><span>        this.timefield = Ext.create(&#39;MyApp.ux.DateTimeField.TimePickerField&#39;, {</span></span>
<span class="line"><span>          fieldLabel: this.timeLabel,</span></span>
<span class="line"><span>          labelWidth: 40,</span></span>
<span class="line"><span>          value: Ext.Date.format(this.value, &#39;H:i:s&#39;),</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      this.timefield.ownerCt = this;//指定范围</span></span>
<span class="line"><span>      this.timefield.on(&#39;change&#39;, this.timeChange, this);//</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      var table = Ext.get(Ext.DomQuery.selectNode(&#39;table&#39;, this.el.dom));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      var tfEl = Ext.DomHelper.insertAfter(table, {</span></span>
<span class="line"><span>        tag: &#39;div&#39;,</span></span>
<span class="line"><span>        style: &#39;border:0px;&#39;,</span></span>
<span class="line"><span>        children: [{</span></span>
<span class="line"><span>          tag: &#39;div&#39;,</span></span>
<span class="line"><span>          cls: &#39;x-datepicker-footer ux-timefield&#39;</span></span>
<span class="line"><span>        }]</span></span>
<span class="line"><span>      }, true);</span></span>
<span class="line"><span>      this.timefield.render(this.el.child(&#39;div div.ux-timefield&#39;));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      var p = this.getEl().parent(&#39;div.x-layer&#39;);</span></span>
<span class="line"><span>      if(p) {</span></span>
<span class="line"><span>        p.setStyle(&quot;height&quot;, p.getHeight() + 31);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    // listener 时间域修改, timefield change</span></span>
<span class="line"><span>    timeChange: function(tf, time, rawtime) {</span></span>
<span class="line"><span>      this.value = this.fillDateTime(this.value);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    fillDateTime: function(value) {</span></span>
<span class="line"><span>      if(this.timefield) {</span></span>
<span class="line"><span>        var rawtime = this.timefield.getRawValue();</span></span>
<span class="line"><span>        value.setHours(rawtime.h);</span></span>
<span class="line"><span>        value.setMinutes(rawtime.m);</span></span>
<span class="line"><span>        value.setSeconds(rawtime.s);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      return value;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    changeTimeFiledValue: function(value) {</span></span>
<span class="line"><span>      this.timefield.un(&#39;change&#39;, this.timeChange, this);</span></span>
<span class="line"><span>      this.timefield.setValue(this.value);</span></span>
<span class="line"><span>      this.timefield.on(&#39;change&#39;, this.timeChange, this);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    setValue: function(value) {</span></span>
<span class="line"><span>      this.value = value;</span></span>
<span class="line"><span>      this.changeTimeFiledValue(value);</span></span>
<span class="line"><span>      return this.update(this.value);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    getValue: function() {</span></span>
<span class="line"><span>      return this.fillDateTime(this.value);</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    handleDateClick: function(e, t) {</span></span>
<span class="line"><span>      var me = this,</span></span>
<span class="line"><span>        handler = me.handler;</span></span>
<span class="line"><span>      e.stopEvent();</span></span>
<span class="line"><span>      if(!me.disabled &amp;&amp; t.dateValue &amp;&amp; !Ext.fly(t.parentNode).hasCls(me.disabledCellCls)) {</span></span>
<span class="line"><span>        me.doCancelFocus = me.focusOnSelect === false;</span></span>
<span class="line"><span>        me.setValue(this.fillDateTime(new Date(t.dateValue)));</span></span>
<span class="line"><span>        delete me.doCancelFocus;</span></span>
<span class="line"><span>        me.fireEvent(&#39;select&#39;, me, me.value);</span></span>
<span class="line"><span>        if(handler) {</span></span>
<span class="line"><span>        handler.call(me.scope || me, me, me.value);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        me.onSelect();</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    //确认按键</span></span>
<span class="line"><span>    confirmDate: function(){</span></span>
<span class="line"><span>        var that = this;</span></span>
<span class="line"><span>          that.fireEvent(&#39;select&#39;, that, that.value);//模拟用户选择</span></span>
<span class="line"><span>          that.onSelect();</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    selectToday: function() {</span></span>
<span class="line"><span>      var me = this,</span></span>
<span class="line"><span>        btn = me.todayBtn,</span></span>
<span class="line"><span>        handler = me.handler;</span></span>
<span class="line"><span>      if(btn &amp;&amp; !btn.disabled) {</span></span>
<span class="line"><span>        me.setValue(new Date());</span></span>
<span class="line"><span>        me.fireEvent(&#39;select&#39;, me, me.value);</span></span>
<span class="line"><span>        if(handler) {</span></span>
<span class="line"><span>        handler.call(me.scope || me, me, me.value);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        me.onSelect();</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      return me;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br></div></div><h4 id="_3-将-datetimepicker-装载到-ext-form-field-date-中-初始化日期时间的格式。" tabindex="-1">3. 将 DateTimePicker 装载到 Ext.form.field.Date 中，初始化日期时间的格式。 <a class="header-anchor" href="#_3-将-datetimepicker-装载到-ext-form-field-date-中-初始化日期时间的格式。" aria-label="Permalink to &quot;3. 将 DateTimePicker 装载到 Ext.form.field.Date 中，初始化日期时间的格式。&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  Ext.define(&#39;MyApp.ux.DateTimeField.DateTimeField&#39;, {</span></span>
<span class="line"><span>      extend: &#39;Ext.form.field.Date&#39;,</span></span>
<span class="line"><span>      alias: &#39;widget.datetimefield&#39;,</span></span>
<span class="line"><span>      requires: [&#39;MyApp.ux.DateTimeField.DateTimePicker&#39;],</span></span>
<span class="line"><span>      initComponent: function() {</span></span>
<span class="line"><span>        this.format = this.format;</span></span>
<span class="line"><span>        this.callParent();</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      format: &#39;Y-m-d H:i:s&#39;,</span></span>
<span class="line"><span>      createPicker: function() {</span></span>
<span class="line"><span>        var me = this,</span></span>
<span class="line"><span>            format = Ext.String.format;</span></span>
<span class="line"><span>        return Ext.create(&#39;MyApp.ux.DateTimeField.DateTimePicker&#39;, {</span></span>
<span class="line"><span>            ownerCt: me.ownerCt,</span></span>
<span class="line"><span>  //          renderTo: document.body,</span></span>
<span class="line"><span>            floating: true,</span></span>
<span class="line"><span>  //          hidden: true,</span></span>
<span class="line"><span>            focusOnShow: true,</span></span>
<span class="line"><span>            minDate: me.minValue,</span></span>
<span class="line"><span>            maxDate: me.maxValue,</span></span>
<span class="line"><span>            disabledDatesRE: me.disabledDatesRE,</span></span>
<span class="line"><span>            disabledDatesText: me.disabledDatesText,</span></span>
<span class="line"><span>            disabledDays: me.disabledDays,</span></span>
<span class="line"><span>            disabledDaysText: me.disabledDaysText,</span></span>
<span class="line"><span>            format: me.format,</span></span>
<span class="line"><span>            showToday: me.showToday,</span></span>
<span class="line"><span>            startDay: me.startDay,</span></span>
<span class="line"><span>            minText: format(me.minText, me.formatDate(me.minValue)),</span></span>
<span class="line"><span>            maxText: format(me.maxText, me.formatDate(me.maxValue)),</span></span>
<span class="line"><span>            listeners: {</span></span>
<span class="line"><span>                scope: me,</span></span>
<span class="line"><span>                select: me.onSelect</span></span>
<span class="line"><span>            },</span></span>
<span class="line"><span>            keyNavConfig: {</span></span>
<span class="line"><span>                esc: function() {</span></span>
<span class="line"><span>                  me.collapse();</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>          });</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>将以上代码拷到 ux 当中，调用的时候可以 Ext.create 之，也可以 require 之后直接使用 alias。</p><p>效果嘛，就像下图那样：</p><p><img src="/assets/image.BBydLIMm.png" alt="效果图" loading="lazy"></p></div></div><p class="last-updated" data-v-a7c96102> 最后更新时间: 2025年08月28日</p></div><div data-v-a7c96102></div><div class="footer" data-v-a7c96102 data-v-7d1942f1><p data-v-7d1942f1> © 2017 ~ 2025 • Yangholmes </p><p class="driver" data-v-7d1942f1> 使用 ❤️ <a href="https://vitepress.dev/" target="_blank" data-v-7d1942f1>Vitepress</a> 搭建 - Yangholmes 提供主题 </p></div></div></main></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"BlPKu6O6\",\"renovation-progress.md\":\"Cd2At-Yr\",\"技术的小记_atom 改装指南_index.md\":\"DQFwuYpi\",\"技术的小记_emscripten file system 入门_index.md\":\"DxYpXg4L\",\"技术的小记_extjs 自定义 datetimefield 控件_index.md\":\"rqmzXmoS\",\"技术的小记_google 地图 tms 服务参数解析_index.md\":\"ycR4wddd\",\"技术的小记_index.md\":\"BnCc1CCa\",\"技术的小记_javascript 变量类型判断_index.md\":\"DWYnFfdU\",\"技术的小记_javascript 隐式转换_index.md\":\"BpKXMZWr\",\"技术的小记_javascript 隐式转换_mermaid.md\":\"DtTaDhJn\",\"技术的小记_javascript 隐式转换_mindmap-en.md\":\"BBdkEY8T\",\"技术的小记_javascript 隐式转换_mindmap.md\":\"CwBtimx9\",\"技术的小记_photoshop 基础--如何抠图_index.md\":\"BdhcIvJz\",\"技术的小记_wabt 使用小记_index.md\":\"pUUSDf8y\",\"技术的小记_web 应用榨干 cpu 性能的正确姿势_index.md\":\"OKp7Naxp\",\"技术的小记_webassembly 基础（一）_index.md\":\"JtQbgoNf\",\"技术的小记_webassembly 基础（二）_index.md\":\"D6qG35NB\",\"技术的小记_什么是原型链_index.md\":\"CqcxtV3w\",\"技术的小记_变量声明和作用域_index.md\":\"Dey-sX0-\",\"技术的小记_如何为 vue 组件提供 slots 静态类型检查_index.md\":\"BW5mmeVh\",\"技术的小记_如何在 web 应用中使用 gdal （一）_index.md\":\"u-ZDDXqv\",\"技术的小记_如何在 web 应用中使用 gdal （三）_index.md\":\"Bm-PVQKI\",\"技术的小记_如何在 web 应用中使用 gdal （二）_index.md\":\"ES3zjQZy\",\"技术的小记_如何设计一个 brainfuck 解释器_index.md\":\"CQ0Wu15n\",\"技术的小记_如何设计一个易用的tag组件_index.md\":\"B3E0Jarh\",\"技术的小记_浏览器事件循环_index.md\":\"CGIRm3EH\",\"技术的小记_脚本化css_index.md\":\"sfmOxB3E\",\"派的玩耍小记_c 的 main 函数_index.md\":\"sGi82He4\",\"派的玩耍小记_gcc 的编译过程_index.md\":\"DuWizt9g\",\"派的玩耍小记_index.md\":\"yzxtHd-l\",\"派的玩耍小记_orangepi lite 2 刷 ubuntu 18.04.4 方法_index.md\":\"BdC7KQVB\",\"派的玩耍小记_新到的玩具_index.md\":\"prxHWRbv\",\"派的玩耍小记_驱动步进电机_index.md\":\"CnKYwqU8\",\"生活咏叹调_index.md\":\"Bm5LpIu5\",\"生活咏叹调_两个和尚的故事_index.md\":\"B0kyywiO\",\"生活咏叹调_我居然想变老_index.md\":\"C-NiR3tE\",\"生活咏叹调_生命_index.md\":\"TJshjhLY\",\"生活咏叹调_生活宝鉴_index.md\":\"CQPBB02G\",\"生活咏叹调_顽强的绿萝_index.md\":\"QfxLZ7Lu\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"Yangholmes' blog\",\"description\":\"Yangholmes' blog\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"categories\":[\"技术的小记\",\"派的玩耍小记\",\"生活咏叹调\"],\"posts\":{\"技术的小记\":[{\"title\":\"wabt 使用小记\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/wabt 使用小记\",\"createDate\":\"2025/09/04\",\"excerpt\":\"\"},{\"title\":\"WebAssembly 基础（二）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/WebAssembly 基础（二）\",\"createDate\":\"2025/09/02\",\"excerpt\":\"\"},{\"title\":\"EMSCRIPTEN File System 入门\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/EMSCRIPTEN File System 入门\",\"createDate\":\"2025/08/26\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （三）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （三）\",\"createDate\":\"2025/08/18\",\"excerpt\":\"\"},{\"title\":\"JavaScript 隐式转换\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/JavaScript 隐式转换\",\"createDate\":\"2025/08/13\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （二）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （二）\",\"createDate\":\"2025/08/10\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （一）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （一）\",\"createDate\":\"2025/08/04\",\"excerpt\":\"\"},{\"title\":\"JavaScript 变量类型判断\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/JavaScript 变量类型判断\",\"createDate\":\"2025/07/12\",\"excerpt\":\"\"},{\"title\":\"如何为 Vue 组件提供 slots 静态类型检查\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何为 Vue 组件提供 slots 静态类型检查\",\"createDate\":\"2025/05/28\",\"excerpt\":\"\"},{\"title\":\"WebAssembly 基础（一）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/WebAssembly 基础（一）\",\"createDate\":\"2024/06/21\",\"excerpt\":\"\"},{\"title\":\"google 地图 TMS 服务参数解析\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/google 地图 TMS 服务参数解析\",\"createDate\":\"2023/08/17\",\"excerpt\":\"\"},{\"title\":\"浏览器事件循环\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/浏览器事件循环\",\"createDate\":\"2023/05/22\",\"excerpt\":\"\"},{\"title\":\"变量声明和作用域\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/变量声明和作用域\",\"createDate\":\"2022/08/21\",\"excerpt\":\"\"},{\"title\":\"web 应用榨干 CPU 性能的正确姿势\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/web 应用榨干 CPU 性能的正确姿势\",\"createDate\":\"2021/09/03\",\"excerpt\":\"\"},{\"title\":\"什么是原型链\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/什么是原型链\",\"createDate\":\"2021/01/13\",\"excerpt\":\"\"},{\"title\":\"Atom 改装指南\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/Atom 改装指南\",\"createDate\":\"2018/06/22\",\"excerpt\":\"\"},{\"title\":\"如何设计一个 BrainFuck 解释器\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何设计一个 BrainFuck 解释器\",\"createDate\":1526860800000,\"excerpt\":\"\"},{\"title\":\"如何设计一个易用的tag组件\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何设计一个易用的tag组件\",\"createDate\":1526342400000,\"excerpt\":\"\"},{\"title\":\"PhotoShop 基础--如何抠图\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/PhotoShop 基础--如何抠图\",\"createDate\":\"2016/06/04\",\"excerpt\":\"\"},{\"title\":\"脚本化CSS\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/脚本化CSS\",\"createDate\":\"2016/05/09\",\"excerpt\":\"\"},{\"title\":\"ExtJS 自定义 datetimefield 控件\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/ExtJS 自定义 datetimefield 控件\",\"createDate\":\"2016/05/07\",\"excerpt\":\"\"}],\"派的玩耍小记\":[{\"title\":\"OrangePi Lite 2 刷 Ubuntu 18.04.4 方法\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/OrangePi Lite 2 刷 Ubuntu 18.04.4 方法\",\"createDate\":\"2020/05/03\",\"excerpt\":\"\"},{\"title\":\"驱动步进电机\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/驱动步进电机\",\"createDate\":\"2019/11/23\",\"excerpt\":\"\"},{\"title\":\"C 的 main 函数\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/C 的 main 函数\",\"createDate\":\"2019/10/27\",\"excerpt\":\"\"},{\"title\":\"gcc 的编译过程\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/gcc 的编译过程\",\"createDate\":\"2019/10/27\",\"excerpt\":\"\"},{\"title\":\"新到的玩具\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/新到的玩具\",\"createDate\":1572019200000,\"excerpt\":\"\"}],\"生活咏叹调\":[{\"title\":\"生活宝鉴\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/生活宝鉴\",\"createDate\":\"2021/05/09\",\"excerpt\":\"\"},{\"title\":\"两个和尚的故事\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/两个和尚的故事\",\"createDate\":\"2021/02/26\",\"excerpt\":\"\"},{\"title\":\"顽强的绿萝\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/顽强的绿萝\",\"createDate\":\"2020/11/19\",\"excerpt\":\"\"},{\"title\":\"生命\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/生命\",\"createDate\":\"2020/11/18\",\"excerpt\":\"\"},{\"title\":\"我居然想变老\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/我居然想变老\",\"createDate\":\"2020/11/17\",\"excerpt\":\"\"}]},\"lastUpdated\":true,\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Yangholmes\"},{\"icon\":\"dev\",\"link\":\"https://dev.to/yangholmes\"},{\"icon\":\"instagram\",\"link\":\"https://www.instagram.com/yangholmes/\"},{\"icon\":\"wechat\",\"link\":\"/wechat-qrcode.png\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  <script type="text/javascript">
          (function(c,l,a,r,i,t,y){
              c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
              t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
              y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
          })(window, document, "clarity", "script", "sqwvxx7phf");
        </script></body>
</html>