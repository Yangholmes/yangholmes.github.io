<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wabt 使用小记 | Yangholmes' blog</title>
    <meta name="description" content="Yangholmes' blog">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DriXcPjx.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DELhZaSv.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.Cc4yYURl.js">
    <link rel="modulepreload" href="/assets/chunks/theme.DPfhNYZE.js">
    <link rel="modulepreload" href="/assets/chunks/katex.ChWnQ-fc.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-JOIXM2OF.yuZ-A5CQ.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-6F6E4RAY.D1XVzWlo.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-KYDEHFYC.CEi2jB5h.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-3M52JZNH.L631Fd_w.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-GW3U2K7C.BcNjnp-V.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-EK5VF46D.DtM_kWix.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-LHK5PUON.DDM0OOtn.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-NIOCPIFQ.ClE0pVzf.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-2OG54O6I.BhmrwSJS.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-H2YORKM3.B5vCvDpn.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-QOLK2EJ7.B_Muk_Ky.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-SKLFT4DO.D1wk1sY-.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-M3E45YP4.Cw_CNTm1.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-YAWTLIQI.Cw_CNTm1.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-MI5ZYTHO.CgkT2vjx.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-5AN5P6BG.DG42SFvk.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-EWQZEKCU.B9wH4LHo.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-MYPXXCX6.BovplCVs.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-6CBA2TL7.DBOtc5N6.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-ZSS6B67P.BSBGOhtz.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-4UZDY2LN.D3RQT3Vj.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-5UYTHUR4.CP7abi-w.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-ZTM2IBQH.CJvDJ7l0.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-6J76NXCF.FsiOap-X.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-SUXI7LT5.COTY7cBx.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-VMROVX33.BVhE_5Qn.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/技术的小记_wabt 使用小记_index.md.DvG5Z8_K.lean.js">
    <link rel="icon" type="image/x-icon" href="/icon.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:title" content="wabt 使用小记">
    <meta property="og:description" content="wabt 使用小记">
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
  </head>
  <body><!--teleport start anchor--><div class="overlay" data-v-2a3b9918></div><!--teleport anchor-->
    <div id="app"><div class="main-layout" data-v-4a448231><div class="left-side" data-v-4a448231><div class="sidebar" data-v-4a448231 data-v-2a3b9918><div class="mobile-only handler" data-v-2a3b9918 data-v-ca29c581 data-v-80979bf7><!--[--><div class="toggle-handler" data-v-ca29c581><span class="vpi-chevron-right icon" data-v-ca29c581></span></div><!--]--></div><div class="top-bar" data-v-2a3b9918><div class="theme-switch is-dark" data-v-2a3b9918 data-v-6427e52d><div class="round-button switch sun" data-v-6427e52d data-v-d3afb744><span class="vpi-sun icon" data-v-d3afb744></span></div><div class="round-button switch moon" data-v-6427e52d data-v-d3afb744><span class="vpi-moon icon" data-v-d3afb744></span></div></div><div class="VPNavBarSearch plugin search" data-v-2a3b9918 data-v-d17e8928><!----><div id="docsearch"><!--[--><div class="round-button" data-v-d17e8928 data-v-d3afb744><span class="vpi-search icon" data-v-d3afb744></span></div><!--]--></div></div></div><nav data-v-2a3b9918><div class="avatar" data-v-2a3b9918 data-v-d3b92462><a href="/" data-v-d3b92462><div class="image" style="--image: url(/assets/cats.BfteQRM1.png)" data-v-d3b92462></div></a><p data-v-d3b92462>Yangholmes</p><p data-v-d3b92462> 邋遢和小松的 <ruby data-v-d3b92462>铲<rt data-v-d3b92462>chǎn</rt></ruby><ruby data-v-d3b92462>屎<rt data-v-d3b92462>shǐ</rt></ruby><ruby data-v-d3b92462>官<rt data-v-d3b92462>guān</rt></ruby></p></div><ul class="category-list" data-v-2a3b9918><!--[--><li class="active" data-v-2a3b9918><a href="/技术的小记/" data-v-2a3b9918>技术的小记</a></li><li class="" data-v-2a3b9918><a href="/派的玩耍小记/" data-v-2a3b9918>派的玩耍小记</a></li><li class="" data-v-2a3b9918><a href="/生活咏叹调/" data-v-2a3b9918>生活咏叹调</a></li><!--]--></ul><ul class="socials" data-v-2a3b9918 data-v-fb1a9594><!--[--><li data-v-fb1a9594><a href="https://github.com/Yangholmes" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="https://dev.to/yangholmes" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="https://www.instagram.com/yangholmes/" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><li data-v-fb1a9594><a href="/wechat-qrcode.png" target="_blank" rel="noopener noreferrer" data-v-fb1a9594><div class="social-icon" style="--mask-image: "></div></a></li><!--]--></ul></nav><div class="bottom-bar" data-v-2a3b9918></div><!--teleport start--><!--teleport end--></div></div><main class="content" data-v-4a448231><div class="nav-bar" data-v-4a448231 data-v-df838852><div class="round-button" data-v-df838852 data-v-d3afb744><span class="vpi-arrow-left icon" data-v-d3afb744></span></div></div><div class="page" data-v-4a448231 data-v-efa6c2c5><div class="vp-doc" data-v-efa6c2c5><div style="position:relative;" data-v-efa6c2c5><div><h1 id="wabt-使用小记" tabindex="-1">wabt 使用小记 <a class="header-anchor" href="#wabt-使用小记" aria-label="Permalink to &quot;wabt 使用小记&quot;">​</a></h1><p>2025年09月04日</p><nav class="table-of-contents"><ul><li><a href="#编译-wat-代码">编译 wat 代码</a></li><li><a href="#分析-wasm">分析 wasm</a></li><li><a href="#整理代码">整理代码</a></li><li><a href="#反汇编">反汇编</a></li></ul></nav><p><a href="https://github.com/WebAssembly/wabt" target="_blank" rel="noreferrer">wabt</a> 是 WebAssembly 二进制格式工具集，提供 wasm 相关的代码编译、分析、调试和验证等功能。这篇简单介绍一下常用命令的用法。</p><h2 id="编译-wat-代码" tabindex="-1">编译 wat 代码 <a class="header-anchor" href="#编译-wat-代码" aria-label="Permalink to &quot;编译 wat 代码&quot;">​</a></h2><p>用 wat 实现斐波那契数列：</p><div class="language-wat vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">wat</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>;; fib.wat</span></span>
<span class="line"><span>(module</span></span>
<span class="line"><span>  (import &quot;env&quot; &quot;log&quot; (func $log (param i32)))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  ;; 申请一页内存</span></span>
<span class="line"><span>  (memory (export &quot;memory&quot;) 1)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  ;; 全局变量：堆指针（指向下一个可用内存地址）</span></span>
<span class="line"><span>  (global $heap_ptr (mut i32) (i32.const 0))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  ;; 分配内存块</span></span>
<span class="line"><span>  ;; params：size (i32) - 需要分配的字节数</span></span>
<span class="line"><span>  ;; return：起始地址 (i32)</span></span>
<span class="line"><span>  (func $allocate (param $size i32) (result i32)</span></span>
<span class="line"><span>    (local $start i32)</span></span>
<span class="line"><span>    (local.set $start (global.get $heap_ptr))</span></span>
<span class="line"><span>    (global.set $heap_ptr</span></span>
<span class="line"><span>      (i32.add</span></span>
<span class="line"><span>        (global.get $heap_ptr)</span></span>
<span class="line"><span>        (local.get $size)</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span>    (local.get $start)</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  ;; 斐波那契数列</span></span>
<span class="line"><span>  ;; params：n (i32) - 数组长度</span></span>
<span class="line"><span>  ;; return：数组起始地址 (i32)</span></span>
<span class="line"><span>  (func (export &quot;fib&quot;) (param $n i32) (result i32)</span></span>
<span class="line"><span>    (local $i i32)</span></span>
<span class="line"><span>    (local $arr_ptr i32)</span></span>
<span class="line"><span>    (local $prev i32)</span></span>
<span class="line"><span>    (local $curr i32)</span></span>
<span class="line"><span>    (local $next i32)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ;; 分配内存：n * sizeof(i32) = n * 4</span></span>
<span class="line"><span>    (local.set $arr_ptr</span></span>
<span class="line"><span>      (call $allocate</span></span>
<span class="line"><span>        (i32.mul</span></span>
<span class="line"><span>          (local.get $n)</span></span>
<span class="line"><span>          (i32.const 4)</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ;; 边界情况处理</span></span>
<span class="line"><span>    (if (i32.le_s (local.get $n) (i32.const 0))</span></span>
<span class="line"><span>      (then (return (local.get $arr_ptr)))  ;; 返回空数组地址</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ;; 初始化前两个元素</span></span>
<span class="line"><span>    (i32.store (local.get $arr_ptr) (i32.const 0))</span></span>
<span class="line"><span>    (if (i32.gt_s (local.get $n) (i32.const 1))</span></span>
<span class="line"><span>      (then</span></span>
<span class="line"><span>        (i32.store</span></span>
<span class="line"><span>          (i32.add (local.get $arr_ptr) (i32.const 4))</span></span>
<span class="line"><span>          (i32.const 1)</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ;; 迭代计算后续元素</span></span>
<span class="line"><span>    (local.set $prev (i32.const 0))</span></span>
<span class="line"><span>    (local.set $curr (i32.const 1))</span></span>
<span class="line"><span>    (local.set $i (i32.const 2))</span></span>
<span class="line"><span>    (loop $loop</span></span>
<span class="line"><span>      ;; 计算下一个斐波那契数</span></span>
<span class="line"><span>      (local.set $next (i32.add (local.get $prev) (local.get $curr)))</span></span>
<span class="line"><span>      (local.set $prev (local.get $curr))</span></span>
<span class="line"><span>      (local.set $curr (local.get $next))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      ;; 存储到内存</span></span>
<span class="line"><span>      (i32.store</span></span>
<span class="line"><span>        (i32.add</span></span>
<span class="line"><span>          (local.get $arr_ptr)</span></span>
<span class="line"><span>          (i32.mul (local.get $i) (i32.const 4))</span></span>
<span class="line"><span>        )</span></span>
<span class="line"><span>        (local.get $next)</span></span>
<span class="line"><span>      )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      ;; 循环控制</span></span>
<span class="line"><span>      (local.set $i (i32.add (local.get $i) (i32.const 1)))</span></span>
<span class="line"><span>      (br_if $loop (i32.lt_s (local.get $i) (local.get $n)))</span></span>
<span class="line"><span>    )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ;; 返回数组起始地址</span></span>
<span class="line"><span>    (local.get $arr_ptr)</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><p>使用 wabt 编译代码：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wat2wasm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fib.wat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fib.wasm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>得到 wasm 文件：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fib.wasm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fib.wat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main.ts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>main.ts 提供了宿主调用 wasm 代码：</p><div class="language-TypeScript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">TypeScript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fibUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./fib.wasm?url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WebAssembly.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">instantiateStreaming</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fibUrl), {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  env: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 解构导出对象，获得 fib 函数 和 内存</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">memory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.instance.exports </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unknown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fib</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    memory</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebAssembly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Memory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 斐波那契数列长度</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 计算，结果保存在内存中，获得保存结果的指针</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> addr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 读取结果</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint32Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(memory.buffer, addr, n);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>使用 vite 作为构建工具，vite 支持将任何类型资源作为 url 导入，这里将 wasm 转化成资源地址，使用 <code>WebAssembly.instantiateStreaming</code> 和 <code>fetch</code> 加载。实际上 vite 也支持使用 <code>?init</code> 后缀加载并自动初始化 wasm 文件，详细可以查阅 vite 文档。</p><p>这里尝试使用 <code>fib</code> 函数去计算长度为 10 的斐波那契数列，输出结果为：</p><p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ouxn7vsvxz4nvjq7pexx.png" alt="Image description"></p><p>符合预期。</p><p>看一下 wat 代码和 wasm 文件的大小对比：</p><p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yqygcvuhh6mcb7xeli6d.png" alt="Image description"></p><p>可以看出，经过编译后，wasm 文件比源码小了一个数量级。如此高效除了 wasm 格式紧凑以外， LEB128 压缩也贡献不少。</p><h2 id="分析-wasm" tabindex="-1">分析 wasm <a class="header-anchor" href="#分析-wasm" aria-label="Permalink to &quot;分析 wasm&quot;">​</a></h2><p><code>wasm-objdump</code> 命令跟操作系统 <code>objdump</code> 类似，用来分析 wasm 文件信息。有什么用？这里举一个例子：开发者拿到一个 wasm 模块，想要快速知道导出函数都有哪些，每个函数的入参数量和类型，返回值长度和类型，就可以使用 <code>wasm-objdump</code> 工具分析。以上一节 fib.wasm 文件为例：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wasm-objdump</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fib.wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输出信息</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fib.wasm:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Section</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Details:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Export[2]:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> memory[0]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;memory&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> func[2]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fib&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>说明 fib.wasm 有两个导出项，一个是内存，另一个是 <code>fib</code> 函数，函数类型是 2 ，接下来再导出函数签名</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wasm-objdump</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fib.wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Function</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>得到：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fib.wasm:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Section</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Details:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Function[2]:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> func[1]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sig=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> func[2]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sig=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>函数 2 的类型在 <code>Type</code> 段声明，且使用索引为 1 的类型，导出 <code>Type</code> 段：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wasm-objdump</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./fib.wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>Type</code> 信息为：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fib.wasm:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wasm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Section</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Details:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type[2]:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type[0]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (i32) -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nil</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type[1]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (i32) -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i32</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>最终获取到了 fib.wasm 导出内容的全部信息：</p><ol><li>导出内存</li><li>导出函数 <code>fib</code> ，<code>fib</code> 有一个 <code>i32</code> 类型的入参，有一个 <code>i32</code> 类型的返回值</li></ol><p><code>wasm-objdump -x</code> 参数可以单独直接使用，会输出 wasm 文件所有块信息，信息量小的文件可以直接全部输出，信息量大的文件建议分块输出，方便分析。</p><h2 id="整理代码" tabindex="-1">整理代码 <a class="header-anchor" href="#整理代码" aria-label="Permalink to &quot;整理代码&quot;">​</a></h2><p><code>wat-desugar</code> 命令可以用来整理现有的 wat 代码，以符合某些规范。比如上文的 fib.wat 源码没有严格按照 <code>操作数压栈 -&gt; 执行指令</code> 的流程编写，经常将操作数写在指令后面，尽管是合法的写法，但不符合栈式虚拟机的范式。使用 <code>wat-desugar</code> 可以帮助我们规范这份代码。这里展示 <code>$allocate</code> 函数整理后的代码：</p><div class="language-wat vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">wat</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>(func $allocate (param $size i32) (result i32)</span></span>
<span class="line"><span>    (local $start i32)</span></span>
<span class="line"><span>    global.get $heap_ptr</span></span>
<span class="line"><span>    local.set $start</span></span>
<span class="line"><span>    global.get $heap_ptr</span></span>
<span class="line"><span>    local.get $size</span></span>
<span class="line"><span>    i32.add</span></span>
<span class="line"><span>    global.set $heap_ptr</span></span>
<span class="line"><span>    local.get $start</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>结合上文源码可以看出来整理后的代码紧凑，更加符合栈式调用的范式，但是更不易读了。最明显的区别就是加法运算 <code>i32.add</code> ，源码将操作数放在了指令的后面，而规范写法应该是先压栈再调用加法指令。</p><h2 id="反汇编" tabindex="-1">反汇编 <a class="header-anchor" href="#反汇编" aria-label="Permalink to &quot;反汇编&quot;">​</a></h2><p>wabt 工具有 3 个反汇编命令：</p><ul><li><code>wasm2wat</code> 将 wasm 反汇编成 wat 代码</li><li><code>wasm2c</code> 将 wasm 反汇编成 C 源码和头文件</li><li><code>wasm-decompile</code> 将 wasm 反汇编成容易阅读的 C 风格伪代码</li></ul><p>笔者在开发过程中 <code>wasm-decompile</code> 配合 <code>wasm2wat</code> 使用比较多。 <code>wasm-decompile</code> 用来分析功能的实现，如果需要对模块小修小改，使用 <code>wasm2wat</code> 获得 wat 文件，修改后再用编译命令将 wat 编译成新的 wasm 即可。</p></div></div><p class="last-updated" data-v-efa6c2c5> 最后更新时间: 2025年09月04日</p></div><div data-v-efa6c2c5></div><div class="footer" data-v-efa6c2c5 data-v-7d1942f1><p data-v-7d1942f1> © 2017 ~ 2025 • Yangholmes </p><p class="driver" data-v-7d1942f1> 使用 ❤️ <a href="https://vitepress.dev/" target="_blank" data-v-7d1942f1>Vitepress</a> 搭建 - Yangholmes 提供主题 </p></div></div></main></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"BXskAP4h\",\"renovation-progress.md\":\"B99wDOrF\",\"技术的小记_atom 改装指南_index.md\":\"Be_VHdKB\",\"技术的小记_emscripten file system 入门_index.md\":\"x63u8wbZ\",\"技术的小记_extjs 自定义 datetimefield 控件_index.md\":\"Dt99ei12\",\"技术的小记_google 地图 tms 服务参数解析_index.md\":\"BH39qB1L\",\"技术的小记_index.md\":\"BrADFfhM\",\"技术的小记_javascript 变量类型判断_index.md\":\"D54GsKgX\",\"技术的小记_javascript 隐式转换_index.md\":\"BPFyooFk\",\"技术的小记_javascript 隐式转换_mermaid.md\":\"D8bBwKta\",\"技术的小记_javascript 隐式转换_mindmap-en.md\":\"CWKayIIf\",\"技术的小记_javascript 隐式转换_mindmap.md\":\"B4KZ_TnZ\",\"技术的小记_photoshop 基础--如何抠图_index.md\":\"LZcTuLAy\",\"技术的小记_wabt 使用小记_index.md\":\"DvG5Z8_K\",\"技术的小记_web 应用榨干 cpu 性能的正确姿势_index.md\":\"yaRvSsUO\",\"技术的小记_webassembly 基础（一）_index.md\":\"Cz52Bi91\",\"技术的小记_webassembly 基础（二）_index.md\":\"CeguZy_r\",\"技术的小记_什么是原型链_index.md\":\"DkSRHN08\",\"技术的小记_变量声明和作用域_index.md\":\"DivrazCw\",\"技术的小记_如何为 vue 组件提供 slots 静态类型检查_index.md\":\"DJ9To2l6\",\"技术的小记_如何在 web 应用中使用 gdal （一）_index.md\":\"CUse1Vhq\",\"技术的小记_如何在 web 应用中使用 gdal （三）_index.md\":\"Og9riDcS\",\"技术的小记_如何在 web 应用中使用 gdal （二）_index.md\":\"CoH4pvaA\",\"技术的小记_如何设计一个 brainfuck 解释器_index.md\":\"Ba0SFTAb\",\"技术的小记_如何设计一个易用的tag组件_index.md\":\"gCkcOmfS\",\"技术的小记_浏览器事件循环_index.md\":\"C8HvrRUA\",\"技术的小记_脚本化css_index.md\":\"DFzw2VFH\",\"派的玩耍小记_c 的 main 函数_index.md\":\"1wT7SPfA\",\"派的玩耍小记_gcc 的编译过程_index.md\":\"DM_hjyR3\",\"派的玩耍小记_index.md\":\"BuqqP9Yx\",\"派的玩耍小记_orangepi lite 2 刷 ubuntu 18.04.4 方法_index.md\":\"DKj3RQp8\",\"派的玩耍小记_新到的玩具_index.md\":\"nMkAf5in\",\"派的玩耍小记_驱动步进电机_index.md\":\"DBZkna8i\",\"生活咏叹调_index.md\":\"fK3lbqII\",\"生活咏叹调_两个和尚的故事_index.md\":\"CKBJMDIk\",\"生活咏叹调_我居然想变老_index.md\":\"DX8OBpJG\",\"生活咏叹调_生命_index.md\":\"HWsND9Ek\",\"生活咏叹调_生活宝鉴_index.md\":\"BShknpLW\",\"生活咏叹调_顽强的绿萝_index.md\":\"DKln24NJ\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"Yangholmes' blog\",\"description\":\"Yangholmes' blog\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"categories\":[\"技术的小记\",\"派的玩耍小记\",\"生活咏叹调\"],\"posts\":{\"技术的小记\":[{\"title\":\"wabt 使用小记\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/wabt 使用小记\",\"createDate\":\"2025/09/04\",\"excerpt\":\"\"},{\"title\":\"WebAssembly 基础（二）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/WebAssembly 基础（二）\",\"createDate\":\"2025/09/02\",\"excerpt\":\"\"},{\"title\":\"EMSCRIPTEN File System 入门\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/EMSCRIPTEN File System 入门\",\"createDate\":\"2025/08/26\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （三）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （三）\",\"createDate\":\"2025/08/18\",\"excerpt\":\"\"},{\"title\":\"JavaScript 隐式转换\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/JavaScript 隐式转换\",\"createDate\":\"2025/08/13\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （二）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （二）\",\"createDate\":\"2025/08/10\",\"excerpt\":\"\"},{\"title\":\"如何在 web 应用中使用 GDAL （一）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何在 web 应用中使用 GDAL （一）\",\"createDate\":\"2025/08/04\",\"excerpt\":\"\"},{\"title\":\"JavaScript 变量类型判断\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/JavaScript 变量类型判断\",\"createDate\":\"2025/07/12\",\"excerpt\":\"\"},{\"title\":\"如何为 Vue 组件提供 slots 静态类型检查\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何为 Vue 组件提供 slots 静态类型检查\",\"createDate\":\"2025/05/28\",\"excerpt\":\"\"},{\"title\":\"WebAssembly 基础（一）\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/WebAssembly 基础（一）\",\"createDate\":\"2024/06/21\",\"excerpt\":\"\"},{\"title\":\"google 地图 TMS 服务参数解析\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/google 地图 TMS 服务参数解析\",\"createDate\":\"2023/08/17\",\"excerpt\":\"\"},{\"title\":\"浏览器事件循环\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/浏览器事件循环\",\"createDate\":\"2023/05/22\",\"excerpt\":\"\"},{\"title\":\"变量声明和作用域\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/变量声明和作用域\",\"createDate\":\"2022/08/21\",\"excerpt\":\"\"},{\"title\":\"web 应用榨干 CPU 性能的正确姿势\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/web 应用榨干 CPU 性能的正确姿势\",\"createDate\":\"2021/09/03\",\"excerpt\":\"\"},{\"title\":\"什么是原型链\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/什么是原型链\",\"createDate\":\"2021/01/13\",\"excerpt\":\"\"},{\"title\":\"Atom 改装指南\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/Atom 改装指南\",\"createDate\":\"2018/06/22\",\"excerpt\":\"\"},{\"title\":\"如何设计一个 BrainFuck 解释器\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何设计一个 BrainFuck 解释器\",\"createDate\":1526860800000,\"excerpt\":\"\"},{\"title\":\"如何设计一个易用的tag组件\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/如何设计一个易用的tag组件\",\"createDate\":1526342400000,\"excerpt\":\"\"},{\"title\":\"PhotoShop 基础--如何抠图\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/PhotoShop 基础--如何抠图\",\"createDate\":\"2016/06/04\",\"excerpt\":\"\"},{\"title\":\"脚本化CSS\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/脚本化CSS\",\"createDate\":\"2016/05/09\",\"excerpt\":\"\"},{\"title\":\"ExtJS 自定义 datetimefield 控件\",\"category\":\"技术的小记\",\"url\":\"/技术的小记/ExtJS 自定义 datetimefield 控件\",\"createDate\":\"2016/05/07\",\"excerpt\":\"\"}],\"派的玩耍小记\":[{\"title\":\"OrangePi Lite 2 刷 Ubuntu 18.04.4 方法\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/OrangePi Lite 2 刷 Ubuntu 18.04.4 方法\",\"createDate\":\"2020/05/03\",\"excerpt\":\"\"},{\"title\":\"驱动步进电机\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/驱动步进电机\",\"createDate\":\"2019/11/23\",\"excerpt\":\"\"},{\"title\":\"C 的 main 函数\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/C 的 main 函数\",\"createDate\":\"2019/10/27\",\"excerpt\":\"\"},{\"title\":\"gcc 的编译过程\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/gcc 的编译过程\",\"createDate\":\"2019/10/27\",\"excerpt\":\"\"},{\"title\":\"新到的玩具\",\"category\":\"派的玩耍小记\",\"url\":\"/派的玩耍小记/新到的玩具\",\"createDate\":1572019200000,\"excerpt\":\"\"}],\"生活咏叹调\":[{\"title\":\"生活宝鉴\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/生活宝鉴\",\"createDate\":\"2021/05/09\",\"excerpt\":\"\"},{\"title\":\"两个和尚的故事\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/两个和尚的故事\",\"createDate\":\"2021/02/26\",\"excerpt\":\"\"},{\"title\":\"顽强的绿萝\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/顽强的绿萝\",\"createDate\":\"2020/11/19\",\"excerpt\":\"\"},{\"title\":\"生命\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/生命\",\"createDate\":\"2020/11/18\",\"excerpt\":\"\"},{\"title\":\"我居然想变老\",\"category\":\"生活咏叹调\",\"url\":\"/生活咏叹调/我居然想变老\",\"createDate\":\"2020/11/17\",\"excerpt\":\"\"}]},\"lastUpdated\":true,\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Yangholmes\"},{\"icon\":\"dev\",\"link\":\"https://dev.to/yangholmes\"},{\"icon\":\"instagram\",\"link\":\"https://www.instagram.com/yangholmes/\"},{\"icon\":\"wechat\",\"link\":\"/wechat-qrcode.png\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  <script type="text/javascript">
          (function(c,l,a,r,i,t,y){
              c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
              t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
              y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
          })(window, document, "clarity", "script", "sqwvxx7phf");
        </script></body>
</html>