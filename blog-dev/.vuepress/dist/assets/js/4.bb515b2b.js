(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{64:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAApCAYAAAAf8TqUAAAACXBIWXMAAC4jAAAuIwF4pT92AAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wOC0wOFQxMTo0NTo0NyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDgtMDhUMTE6NDc6MzQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMDhUMTE6NDc6MzQrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTUwMTUxMjctMmI4My0wMDRi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"},79:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h3",{attrs:{id:"我的代码风格手册"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我的代码风格手册","aria-hidden":"true"}},[t._v("#")]),t._v(" 我的代码风格手册")]),n("p",[n("strong",[t._v("2018-08-07")])]),n("blockquote",[n("p",[t._v("All code in any code-base should look like a single person typed it, no matter how many people contributed.")])]),n("h4",{attrs:{id:"起源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#起源","aria-hidden":"true"}},[t._v("#")]),t._v(" 起源")]),n("p",[t._v("第一次参与团队合作开发OA的经历让我感受到，阅读/修改别人写的代码居然会是痛苦的事情。当时还是在一个没有多少开发经验的小团队里面做搬运工，用的还是"),n("code",[t._v("ExtJS")]),t._v("4.x版本的前端框架，后端是著名的"),n("code",[t._v("Spring")]),t._v(" + "),n("code",[t._v("Struts")]),t._v(" + "),n("code",[t._v("Hibernate")]),t._v("，因为是搬砖岗位，所以前端后端都要做一些。当我在项目中看到类似下面这种代码的时候，眉头是紧皱的：")]),n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// @file xxx.java")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("for")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" Arr"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("size")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),n("span",{attrs:{class:"token operator"}},[t._v("++")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\ntemp "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("Arr"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("println")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("   "),n("span",{attrs:{class:"token string"}},[t._v('"++++++++++"')]),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v("temp"),n("span",{attrs:{class:"token operator"}},[t._v("+")]),n("span",{attrs:{class:"token string"}},[t._v('"=========="')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// @file xxx.js")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xiangmu\n  ajax"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'http://xxx.action'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    xiangmu "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("project\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xiangmu"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("p",[t._v("代码的缩进无法直视，有时2个空格，有时一个"),n("code",[t._v("tab")]),t._v("，有时又是4个空格；花括号换行非常随意，有时换行有时不换行；"),n("code",[t._v("JavaScript")]),t._v("变量声明不进行初始化，命名随意，拼音横行；不写分号；括号里空格随意，多打了几个空格视而不见……")]),n("p",[t._v("写这种乱糟糟很随意的代码很轻松，但是过了几天发现问题回头review的时候就会发现难以阅读甚至无法阅读。尤其是阅读别人写的这种代码😭。")]),n("p",[t._v("这种代码是不合格的，尤其是在项目中，极容易出bug，并且无法修复。")]),n("h4",{attrs:{id:"初次尝试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初次尝试","aria-hidden":"true"}},[t._v("#")]),t._v(" 初次尝试")]),n("p",[t._v("这段经历过后我就决定要养成良好的编码习惯。终极目标是在团队中规定统一的代码风格，如果这个事情推不动，那么至少自己的代码应该是合格的。")]),n("p",[t._v("第一次尝试，我在之后的一个项目中添加了代码风格的README.md文档，并在teamwork工具中告知了团队其他成员这个规范。类似这样：")]),n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[t._v("* "),n("span",{attrs:{class:"token code keyword"}},[t._v("`JavaScript`")]),t._v("规范\n"),n("span",{attrs:{class:"token code keyword"}},[t._v('    * 常量：全部大写，单词以下划线"\\_"区分。')]),t._v("\n"),n("span",{attrs:{class:"token code keyword"}},[t._v('    * 变量（属性）：按照驼峰法命名，首字母小写。例如：firstVar 是正确的变量名，FirstVar 、firstvar 或者FIRVAR都是错误的。私有属性应在变量名前面加上下划线"\\_"。例如_secondVar。')]),t._v("\n"),n("span",{attrs:{class:"token code keyword"}},[t._v("    * 函数（方法）：命名规则与变量名相同。")]),t._v("\n"),n("span",{attrs:{class:"token code keyword"}},[t._v("    * 类：类的命名按照帕斯卡命名法，为了和属性、方法有所区分，首字母应大写。例如FirstObject 是正确的命名。")]),t._v("\n"),n("span",{attrs:{class:"token code keyword"}},[t._v('    * 文件名：全部小写，单词以连接符"-"区分，切勿使用其他符号。')]),t._v("\n"),n("span",{attrs:{class:"token code keyword"}},[t._v("    * 必须且只可使用不带BOM的UTF-8编码。")]),t._v("\n")])]),n("p",[t._v("团队的其他同事看完这个规范之后，用“are you kidding”的眼神看了我一眼，说着“为什么要这么麻烦”，“这样一天也做不了多少事情”之类的话，回去写他们自由的代码去了。")]),n("p",[t._v("所以最后这个规范也就只有我一个人在遵守，直到我离开了这个团队。")]),n("p",[t._v("初始尝试宣告失败。")]),n("h4",{attrs:{id:"强制规范"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强制规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 强制规范")]),n("p",[t._v("后来离开了上面说的那个团队，去到百度地图，才知道大公司都有代码风格强制规范这个东西。百度内部进行代码托管和版本管理的系统是自家的icode，每一次push提交代码之后，必须通过线上机器评审和同事的人工评审才能合入分支，其中线上机器评审就包括代码风格检查。其中，前端的代码规范使用的是"),n("a",{attrs:{href:"http://fecs.baidu.com/",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("FECS")])]),t._v("，也是出自百度自家的产品。")]),n("p",[n("a",{attrs:{href:"http://fecs.baidu.com/"}},[n("img",{attrs:{src:s(64),alt:"fecs-logo"}})])]),n("p",[n("code",[t._v("FECS")]),t._v("是一套非常详细的代码规范，支持"),n("code",[t._v("html")]),t._v("、"),n("code",[t._v("css")]),t._v("、"),n("code",[t._v("less")]),t._v("和"),n("code",[t._v("JavaScript")]),t._v("四种格式检查。"),n("code",[t._v("FECS")]),t._v("定制了一套"),n("code",[t._v("ESLint")]),t._v("规范，结合了百度自定义的部分"),n("code",[t._v("JavaScript")]),t._v("编码规范（自定义规范用前缀"),n("code",[t._v("fecs-")]),t._v("区分），以检查代码中可能存在的质量问题。规范涵盖了众多场景，例如标签的规范、变量名命名规范、行尾逗号分号规范、缩进规范等等。")]),n("p",[t._v("同时"),n("code",[t._v("FECS")]),t._v("也是基于"),n("code",[t._v("Node.js")]),t._v("的前端代码检查/修复工具，提供"),n("code",[t._v("Sublime Text")]),t._v("、"),n("code",[t._v("Atom")]),t._v("、"),n("code",[t._v("VS Code")]),t._v("等现代编辑器插件，支持"),n("code",[t._v("Gulp")]),t._v("、"),n("code",[t._v("Grunt")]),t._v("等构建化工具插件（好像还没有"),n("code",[t._v("webpack")]),t._v("插件）。其中"),n("code",[t._v("html")]),t._v("检查/格式化是基于"),n("code",[t._v("htmlcs")]),t._v("工具，"),n("code",[t._v("css")]),t._v("检查是基于"),n("code",[t._v("csshint")]),t._v("工具，"),n("code",[t._v("less")]),t._v("检查是基于"),n("code",[t._v("lesslint")]),t._v("工具，"),n("code",[t._v("JavaScript")]),t._v("修复是基于"),n("code",[t._v("jformatter")]),t._v("工具。修复功能其实就是代码美化，开发人员会更加随意地去编写代码，因为美化功能总能让提交通过机器评审。所以在实际使用中，我更倾向于代码风格检测，而不是修复，因为对于一个程序员来说，养成良好的习惯优于利用工具纠正错误。")]),n("p",[t._v("文件内对于压缩过的脚本或者样式，我们可以添加"),n("code",[t._v("/* eslint-disable */")]),t._v("来跳过检测。另外icode的机器评审对于代码风格的限制提供了“豁免/标记误报”功能，对于单次提交的少量风格问题，是可以进行豁免操作的。但在项目中我发现有不少同事都会滥用“豁免/标记误报”功能，而且还开发了批量豁免的浏览器扩展😂。简直是道高一尺魔高一丈。")]),n("h4",{attrs:{id:"好用的eslint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#好用的eslint","aria-hidden":"true"}},[t._v("#")]),t._v(" 好用的ESLint")])])}],c=s(0),e=Object(c.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);a.default=e.exports}}]);