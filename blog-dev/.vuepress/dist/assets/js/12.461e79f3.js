(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{92:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h3",{attrs:{id:"linux-c-程序入口函数-main-小解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux-c-程序入口函数-main-小解","aria-hidden":"true"}},[t._v("#")]),t._v(" Linux C 程序入口函数 main() 小解")]),n("p",[n("strong",[t._v("2019-10-27")])]),n("p",[t._v("Linux 系统中，C 程序总是从 "),n("code",[t._v("main()")]),t._v(" 函数开始的，当用户编写好的程序在运行的时候，操作系统慧使用 "),n("code",[t._v("exec()")]),t._v(" 函数运行程序。在调用 "),n("code",[t._v("main()")]),t._v(" 之前，"),n("code",[t._v("exec()")]),t._v(" 系统调用会先调用一个特殊的启动例程，负责从操作系统内核读取程序的命令行参数，为 "),n("code",[t._v("main()")]),t._v(" 函数准备好工作环境。")]),n("p",[n("code",[t._v("main()")]),t._v(" 函数的定义为")]),n("pre",{pre:!0,attrs:{class:"language-c"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("main")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" argc"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("char")]),n("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" argv"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("char")]),n("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" envp"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("p",[t._v("参数 argc 表示 命令行参数的个数，即参数 argv 的长度，argv 是一个字符串数组指针，argv 的元素就是参数的内容。envp 是系统环境变量列表，存放了一组进程运行过程中会用到的环境变量。")]),n("p",[t._v("ANSI 规定 "),n("code",[t._v("main()")]),t._v(" 函数只有前两个参数，而 POSIX 则使用了一个全局的环境变量 environ 来取代 envp ，应用程序可以通过 "),n("code",[t._v("getenv()")]),t._v(" 和 "),n("code",[t._v("putenv()")]),t._v(" 函数来读取或者设置一个环境变量。")]),n("h4",{attrs:{id:"系统如何执行-main-函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统如何执行-main-函数","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统如何执行 "),n("code",[t._v("main()")]),t._v(" 函数")])])}],!1,null,null,null);a.default=e.exports}}]);